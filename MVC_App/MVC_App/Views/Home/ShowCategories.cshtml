@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@

@using System.Diagnostics
@{

}
@model IEnumerable<Product>
<label>
    Sort:  
    <input type="radio" name="sort" value="name"/> Name 
    <input type="radio" name="sort" value="price"/> Price
</label>
<div id="result">
    @await Html.PartialAsync("ViewSort", Model)
</div>
<script>
    let t = document.querySelectorAll('input[type=radio][name="sort"]');
    for (var i = 0; i < t.length; i++) {
        t[i].addEventListener('change',function(e) {
            console.log(e.target.value);
        
            let r = document.getElementById('result');
            console.log(r);
            r.innerHTML = '';
            if (e.target.value == 'name') {
                r.innerHTML = `@await Html.PartialAsync("ViewSort", Model.OrderBy(p=>p.Name))`;
            }
            else if (e.target.value == 'price') {
                r.innerHTML = `@await Html.PartialAsync("ViewSort", Model.OrderBy(p=>p.Price))`;
            }
        });
    }
</script>

